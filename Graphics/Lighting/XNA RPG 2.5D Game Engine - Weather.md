You're not really seeing much of anything new shader-wise. Apart from the spiffy new particle system (which still needs a lot of work and optimisation, alas), the main challenge has been coding in all the interdependencies and getting the lighting and colours to look just right in all combinations of: sunny, cloudy, day, night, dawn, dusk, rainy, snowy, stormy etc. There's a simple fog shader to darken stuff lower down than higher up using the heightmap, but it's 90% about tweaking the bloom settings. The other neat trick is overlaying a neat transluscent glow sprite over every light in the scene. Gives it a subtle and very cool participating media effect.

Other stuff includes clouds and directional light shadows (though the latter aren't very easy to notice in the vid), which has just been about adding some extra stuff to the lighting shader. The cloudmap is projected with the help of the heightmap to give it a 3D-y look, the texture itself is mostly gradienty grayscale - depending on the supposed cloudiness of the sky, the shader adjusts the black and white levels to give bigger or smaller clouds.